{% load static %}


<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Male_Fashion Template">
    <meta name="keywords" content="Male_Fashion, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700;800;900&display=swap"
        rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="../static/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="../static/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="../static/css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="../static/css/magnific-popup.css" type="text/css">
    <link rel="stylesheet" href="../static/css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="../static/css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="../static/css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="../static/css/stylee.css" type="text/css">
    <style>
        .out-of-stock-message {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #ff0000;
            color: #ffffff;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
        }
    </style>
</head>

<body>
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>


    <!-- Offcanvas Menu End -->

    <!-- Header Section Begin -->
    <header class="header">

        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-3">
                    <div class="header__logo">
                        <!-- <a href="./index.html"><img src="img/logo.png" alt=""></a> -->

                    </div>
                </div>
                <div class="col-lg-6 col-md-6">
                    <nav class="header__menu mobile-menu">
                        <ul>
                            <li class="active"><a href="homepage">Home</a></li>
                            <li><a href="#">Shop</a>
                                <ul class="dropdown">
                                    <li><a href="view_product">Products</a></li>
                                    <li><a href="/my-cart">Shopping Cart</a></li>
                                </ul>
                            </li>
                            <li><a href="#">Account</a>
                                <ul class="dropdown">
                                    <li><a href="profile">Profile</a></li>
                                    <li><a href="user_orders">Orders</a></li>
                                    <li><a href="/">Logout</a></li>
                                </ul>
                            </li>
                            <li><a href="contact">Contact</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="col-lg-3 col-md-3">
                    <div class="header__nav__option">
                        <div class="shop__sidebar__search">
                            <form action="{% url 'search' %}" method="GET">
                                <input type="text" name="query" placeholder="Search...">
                                <button type="submit"><span class="icon_search"></span></button>
                            </form>

                        </div>


                    </div>
                </div>
            </div>
            <div class="canvas__open" id="menuToggle"><i class="fa fa-bars"></i></div>
        </div>
    </header>
    <!-- Header Section End -->

    <!-- Breadcrumb Section Begin -->
    <section class="breadcrumb-option">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb__text">
                        <h4>Shop</h4>
                        <div class="breadcrumb__links">
                            <a href="./index.html">Home</a>
                            <span>Shop</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Breadcrumb Section End -->

    <!-- Shop Section Begin -->
    <section class="shop spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="shop__sidebar">
                        <div class="shop__sidebar__search">
                            <form action="#">
                                <input type="text" placeholder="Search...">
                                <button type="submit"><span class="icon_search"></span></button>
                            </form>
                        </div>

                        <div class="shop__sidebar__accordion">
                            <div class="accordion" id="accordionExample">


                                <div class="card">
                                    <div class="card-heading">
                                        <a data-toggle="collapse" data-target="#collapsePrice">Filter Price</a>
                                    </div>
                                    <div id="collapsePrice" class="collapse show" data-parent="#accordionExample">
                                        <div class="card-body">
                                            <div class="shop__sidebar__price">
                                                <ul>
                                                    <li><a href="#"
                                                            onclick="applyFilters('price0-50')">&#8377;&nbsp;0.00 -
                                                            &#8377;&nbsp;50.00</a></li>
                                                    <li><a href="#"
                                                            onclick="applyFilters('price50-100')">&#8377;&nbsp;50.00 -
                                                            &#8377;&nbsp;100.00</a></li>
                                                    <li><a href="#"
                                                            onclick="applyFilters('price100-150')">&#8377;&nbsp;100.00 -
                                                            &#8377;&nbsp;150.00</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <!-- <div class="row">
                           
                        </div> -->



                    </div>
                </div>
                <div class="col-lg-9">
                    <div class="refund-message alert alert-warning" role="alert">
                        <strong>Notice:</strong> Orders cannot be cancelled after payment has been processed.
                                  
                    </div>
                    <div class="row">
                        {% for p in detail %}
                        <div class="col-lg-3 col-md-6 col-sm-6">
                            <div class="product__item">
                                <div class="product__item__pic set-bg" data-setbg="{{ p.image.url }}">

                                    <ul class="product__hover">
                                        <!-- <li><a href="#"><img src="../static/images/heart.png" alt=""></a></li> -->
                                        <!-- <li><a href="#"><img src="img/icon/compare.png" alt=""> <span>Compare</span></a>
                                        </li>
                                        <li><a href="#"><img src="img/icon/search.png" alt=""></a></li> -->
                                        {% if p.quantity == 0 %}
                                        <!-- Display a message or icon indicating that the product is out of stock -->
                                        <span class="out-of-stock-message">Out of Stock</span>
                                        {% endif %}
                                    </ul>
                                </div>
                                <div class="product__item__text">
                                    <h6>{{p.title}}</h6>
                                    <a href="/add-to-cart/{{p.bid}}" class="add-cart">+ Add To Cart</a>


                                    <!-- <div class="rating">
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                    </div> -->
                                    <h5>{{p.genre}}</h5>
                                    <h5>&#8377;&nbsp;{{p.price}}</h5>


                                </div>
                                <!-- <a href="/review/{{p.bid }}" class="review-link">Leave a Review</a> <br> -->

                                <!-- <a href="productdetails/{{p.bid}}">View Details</a> -->
                                <h6>{{p.desc}}</h6>
                            </div>
                        </div>
                        {% endfor %}
                    </div>

                </div>
            </div>
    </section>
    <!-- Shop Section End -->

    <!-- Footer Section Begin -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-6 col-sm-6">
                    <div class="footer__about">
                        <div class="footer__logo">
                            <a href="#"><img src="" alt=""></a>
                        </div>
                        <p>The customer is at the heart of our unique business model, which includes design.</p>
                        <a href="#"><img src="img/payment.png" alt=""></a>
                    </div>
                </div>
                <div class="col-lg-2 offset-lg-1 col-md-3 col-sm-6">
                    <div class="footer__widget">
                        <h6>Shopping</h6>
                        <ul>
                            <li><a href="#">Clothing Store</a></li>
                            <li><a href="#">Trending Shoes</a></li>
                            <li><a href="#">Accessories</a></li>
                            <li><a href="#">Sale</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6">
                    <div class="footer__widget">
                        <h6>Shopping</h6>
                        <ul>
                            <li><a href="#">Contact Us</a></li>
                            <li><a href="#">Payment Methods</a></li>
                            <li><a href="#">Delivary</a></li>
                            <li><a href="#">Return & Exchanges</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 offset-lg-1 col-md-6 col-sm-6">
                    <div class="footer__widget">
                        <h6>NewLetter</h6>
                        <div class="footer__newslatter">
                            <p>Be the first to know about new arrivals, look books, sales & promos!</p>
                            <form action="#">
                                <input type="text" placeholder="Your email">
                                <button type="submit"><span class="icon_mail_alt"></span></button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="footer__copyright__text">
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        <p>Copyright ©
                            <script>
                                document.write(new Date().getFullYear());
                            </script>2020
                            All rights reserved | This template is made with <i class="fa fa-heart-o"
                                aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
                        </p>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer Section End -->

    <!-- Search Begin -->
    <div class="search-model">
        <div class="h-100 d-flex align-items-center justify-content-center">
            <div class="search-close-switch">+</div>
            <form class="search-model-form">
                <input type="text" id="search-input" placeholder="Search here.....">
            </form>
        </div>
    </div>
    <!-- Search End -->

    <!-- Js Plugins -->

    <!-- Js Plugins -->
    <script src="../static/js/jquery-3.3.1.min.js"></script>
    <script src="../static/js/bootstrap.min.js"></script>
    <script src="../static/js/jquery.nice-select.min.js"></script>
    <script src="../static/js/jquery.nicescroll.min.js"></script>
    <script src="../static/js/jquery.magnific-popup.min.js"></script>
    <script src="../static/js/jquery.countdown.min.js"></script>
    <script src="../static/js/jquery.slicknav.js"></script>
    <script src="../static/js/mixitup.min.js"></script>
    <script src="../static/js/owl.carousel.min.js"></script>
    <script src="../static/css/main.js"></script>

    <script>
        function applyFilters(filter) {
            const productContainer = document.querySelector('.shop .col-lg-9 .row');

            // Get all product items
            const productItems = Array.from(document.querySelectorAll('.shop .product__item'));

            console.log('Total product items:', productItems.length);

            // Filter and sort the product items based on the selected filter
            const filteredItems = productItems.filter(item => {
                const genre = item.querySelector('.product__item__text h5').textContent.trim().toLowerCase();
                const priceText = item.querySelector('.product__item__text h5:last-child').textContent.trim();
                const price = parseFloat(priceText.replace('₹', '').replace(',', ''));

                // Check if the product item matches the selected filter
                return (filter === 'fiction' && genre === 'fiction') ||
                    (filter === 'autobiography' && genre === 'autobiography') ||
                    (filter === 'price0-50' && price >= 0 && price <= 50) ||
                    (filter === 'price50-100' && price > 50 && price <= 100) ||
                    (filter === 'price100-150' && price > 100 && price <= 150);
            });

            console.log('Filtered items:', filteredItems.length);

            // Clear the container before appending filtered items
            productContainer.innerHTML = '';

            // Append the filtered items back to the container
            filteredItems.forEach(item => {
                productContainer.appendChild(item.parentElement);
            });
        }
    </script>






</body>

</html>